<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{margin: 0;padding: 0;}
			input{padding: 10px;font-size: 25px;}
			#ds{
				position: absolute;
				top: 30px;
				right: 10px;
			}
		</style>
	
	</head>
	<body>
		<video id="video" width="600" height="500" autoplay ></video>
		<input type="button" name="but" id="but" value="拍照" />
		<canvas id="ds" width="800" height="800"></canvas>
	</body>
	<script type="text/javascript">
	var vi=document.getElementById("video");
	var but=document.getElementById("but");
	var ds=document.getElementById("ds");
	var ctx=ds.getContext('2d');
		navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;  
		window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL; 
		navigator.getUserMedia({video:true},function (stream){
			video.src=window.URL.createObjectURL(stream);
			localMediaStream=stream;
		},function(){
			alert('您的设备不同意使用相机');
		});
	but.onclick=function (){
		ctx.drawImage(vi,0,0,600,450);
	}
	</script>
</html>
